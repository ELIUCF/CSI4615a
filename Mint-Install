#Install curl & NodeJS
sudo apt install curl |tee -a install.log
curl -sL https://deb.nodesource.com/setup_13.x | sudo -E bash - |tee -a install.log
sudo apt-get install -y nodejs |tee -a install.log

sudo npm update |tee -a install.log
sudo npm i -g snyk |tee -a install.log
sudo chown $USER -R ~/.config |tee -a install.log

echo "Sign in to your GitHub account"
echo "When complete then enter the command:"
echo "snyk auth"
echo "Then follow thru with the snyk CLI registration"
echo "This will complete the nodeJS and snyk installation."

# Install Jave runtime (jre)
sudo apt install default-jre |tee install.log
# Install Jave Developer Kit (jdk)
sudo apt install default-jdk |tee -a install.log

# cd /opt
wget http://www-eu.apache.org/dist/maven/maven-3/3.6.2/binaries/apache-maven-3.6.2-bin.tar.gz

sudo tar -xf apache-maven-3.6.2-bin.tar.gz
sudo mv apache-maven-3.6.2 /opt/apache-maven

sudo chmod +x maven.sh
sudo cp maven.sh /etc/profile.d
source /etc/profile.d/maven.sh


cd ~
mvn --v |tee -a install.log

export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64
export M2_HOME=/opt/apache-maven
export MAVEN_HOME=/opt/apache-maven
export PATH=${M2_HOME}/bin:${PATH}

